"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.container = void 0;
const inversify_1 = require("inversify");
const typeorm_1 = require("typeorm");
const user_repository_1 = require("./repositories/user.repository");
const endpoint_repository_1 = require("./repositories/endpoint.repository");
const auth_service_1 = require("./services/auth.service");
const endpoint_service_1 = require("./services/endpoint.service");
const auth_controller_1 = require("./controllers/auth.controller");
const endpoint_controller_1 = require("./controllers/endpoint.controller");
const cron_1 = require("./jobs/cron");
const symbols_1 = require("./types/symbols");
const database_1 = require("./db/database");
const redis_1 = require("./db/redis");
const container = new inversify_1.Container();
exports.container = container;
container.bind(typeorm_1.DataSource).toConstantValue(database_1.AppDataSource);
container.bind(symbols_1.TYPES.RedisClient).toConstantValue(redis_1.redisClient);
container.bind(user_repository_1.UserRepository).toSelf();
container.bind(endpoint_repository_1.EndpointRepository).toSelf();
container.bind(auth_service_1.AuthService).toSelf();
container.bind(endpoint_service_1.EndpointService).toSelf();
container.bind(auth_controller_1.AuthController).toSelf();
container.bind(endpoint_controller_1.EndpointController).toSelf();
container.bind(cron_1.CleanupJob).toSelf();
